version: "3.8"

services:
  mikrotik-collector:
    build:
      context: ./collector
      dockerfile: Dockerfile
    container_name: mikrotik-collector
    restart: unless-stopped
    environment:
      - ODOO_URL=http://odoo-odoo-1:8069
      - ODOO_DATABASE=qwer
      - COLLECTOR_ID=collector-01
      - COLLECTOR_SECRET=
    volumes:
      # Mount config for easy editing
      - ./collector/config.yaml:/app/config.yaml:ro
    networks:
      - odoo_default

networks:
  odoo_default:
    external: true
    name: odoo_default
